<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>“华为杯”极客出发XMan冬令营线上CTF解题赛 | 闲言语</title><meta name=keywords content><meta name=description content="只做了个签到题，总的来说是一个脑洞和简单AES加密的结合。"><meta name=author content><link rel=canonical href=https://ret2neo.cn/post/180107xmancamponlinewp/><link crossorigin=anonymous href=/assets/css/stylesheet.42b1e004fb78db2fc933d33c9db659598f62453f0de6f9db50c85e5936c0d8c3.css integrity="sha256-QrHgBPt42y/JM9M8nbZZWY9iRT8N5vnbUMheWTbA2MM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ret2neo.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ret2neo.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ret2neo.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://ret2neo.cn/apple-touch-icon.png><link rel=mask-icon href=https://ret2neo.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="“华为杯”极客出发XMan冬令营线上CTF解题赛"><meta property="og:description" content="只做了个签到题，总的来说是一个脑洞和简单AES加密的结合。"><meta property="og:type" content="article"><meta property="og:url" content="https://ret2neo.cn/post/180107xmancamponlinewp/"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-01-07T19:11:25+08:00"><meta property="article:modified_time" content="2018-01-07T19:11:25+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="“华为杯”极客出发XMan冬令营线上CTF解题赛"><meta name=twitter:description content="只做了个签到题，总的来说是一个脑洞和简单AES加密的结合。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ret2neo.cn/post/"},{"@type":"ListItem","position":2,"name":"“华为杯”极客出发XMan冬令营线上CTF解题赛","item":"https://ret2neo.cn/post/180107xmancamponlinewp/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"“华为杯”极客出发XMan冬令营线上CTF解题赛","name":"“华为杯”极客出发XMan冬令营线上CTF解题赛","description":"只做了个签到题，总的来说是一个脑洞和简单AES加密的结合。","keywords":[],"articleBody":"中二的成长之路 我用真心对你，你却用QR敷衍我。\n附件下载\n试试QR的哈希，并且注意红字。 使用图片显示的某些信息做哈希 再次观察图片，看看不一样的颜色和字体，也许需要做一下哈希 扫描题目给的图片得到3ukka4wZf2Q9H8PEI5YKFA== ，但直接base64解码得到乱码。谷歌搜索发现可能性很多，各种尝试无果。 使用binwalk分离出压缩包。不是伪加密，爆破也无果。 经过主办方提示看看不一样的颜色和字体 注意到AES，搜索发现与今年9月份的问鼎杯CTF一道题极为相似，就是压缩包的密码经过AES加密后再进行base64编码。这样就有了基本的思路。但还缺少一些信息，比如AES采用哪种模式，key是什么，如果有IV，又会是什么。 对着三次关于哈希 的提示，猜想做出来的哈希就是key，那么就不需要IV，那么就可能是ECB或CTR模式。但哈希是对谁做的呢，产生了很多联想，做了一些尝试无果。后来猛然发现，基本上能用来产生哈希用于AES加密并产生BASE64串的东西一定是在图片生成之前就存在。那么可能性就不多了，甚至没有了。比赛快结束前注意到试试QR的哈希 这一提示，不报什么希望地试了下字符串\"QR\"的哈希，没想到成了。解密后得到压缩包密码1Znmpr4jzChwxXqB 。 打开压缩包后迎面而来又一张QR，解出bqIGBfOGuOsxLYV16OI7xRNAZrcFdYLJtHaDym2O7so= 。很容易想到这是要故技重施，又要找一串key。因为key可能是16、24或32字节，很自然想到上一次解密就试过的16个字节的文件名s776051080zum92N ，一试便成，得到XCTF{W0W_U_G0T_TH3_FL4G} 。 勉强拿到门票，即将和大佬们一起学习，有点兴奋：） 附上解题脚本：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 #coding:utf-8 import base64,hashlib from Crypto.Cipher import AES key = hashlib.md5('QR').hexdigest() secret=\"3ukka4wZf2Q9H8PEI5YKFA==\" # 图片扫码结果 def decrypt(enc): aes = AES.new(key, AES.MODE_ECB) return aes.decrypt(enc) res=decrypt(base64.b64decode(secret)) print len(res),res #------------------------------------------- key = \"s776051080zum92N\" #压缩包里面图片的文件名 secret=\"bqIGBfOGuOsxLYV16OI7xRNAZrcFdYLJtHaDym2O7so=\" #压缩包里图片是涨二维码，扫出来这个 def decrypt2(enc): aes = AES.new(key, AES.MODE_ECB) return aes.decrypt(enc) res=decrypt2(base64.b64decode(secret)) print len(res),res #------运行结果-------------- #16 1Znmpr4jzChwxXqB #32 XCTF{W0W_U_G0T_TH3_FL4G} ","wordCount":"89","inLanguage":"en","datePublished":"2018-01-07T19:11:25+08:00","dateModified":"2018-01-07T19:11:25+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://ret2neo.cn/post/180107xmancamponlinewp/"},"publisher":{"@type":"Organization","name":"闲言语","logo":{"@type":"ImageObject","url":"https://ret2neo.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ret2neo.cn/ accesskey=h title="闲言语 (Alt + H)">闲言语</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ret2neo.cn/mind/ title=随笔><span>随笔</span></a></li><li><a href=https://ret2neo.cn/about title=关于><span>关于</span></a></li><li><a href=https://ret2neo.cn/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>“华为杯”极客出发XMan冬令营线上CTF解题赛</h1><div class=post-description>只做了个签到题，总的来说是一个脑洞和简单AES加密的结合。</div><div class=post-meta><span title='2018-01-07 19:11:25 +0800 CST'>January 7, 2018</span>&nbsp;|&nbsp;<a href=https://github.dev/findneo/priblog/content/post/180107xmancamponlinewp.md rel="noopener noreferrer" target=_blank>edit</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%b8%ad%e4%ba%8c%e7%9a%84%e6%88%90%e9%95%bf%e4%b9%8b%e8%b7%af aria-label=中二的成长之路>中二的成长之路</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h4 id=中二的成长之路>中二的成长之路<a hidden class=anchor aria-hidden=true href=#中二的成长之路>#</a></h4><blockquote><p>我用真心对你，你却用QR敷衍我。</p><p><a href=http://xman.xctf.org.cn/media/task/6704c696-0a81-4715-b16c-38a093dadedf.jpg>附件下载</a></p><p><img loading=lazy src=QR.jpg alt=QR></p><ul><li>试试QR的哈希，并且注意红字。</li><li>使用图片显示的某些信息做哈希</li><li>再次观察图片，看看不一样的颜色和字体，也许需要做一下哈希</li></ul></blockquote><ul><li>扫描题目给的图片得到<code>3ukka4wZf2Q9H8PEI5YKFA==</code> ，但直接base64解码得到乱码。谷歌搜索发现可能性很多，各种尝试无果。</li><li>使用binwalk分离出压缩包。不是伪加密，爆破也无果。</li><li>经过主办方提示<code>看看不一样的颜色和字体</code> 注意到AES，搜索发现与今年9月份的问鼎杯CTF一道题极为相似，就是压缩包的密码经过AES加密后再进行base64编码。这样就有了基本的思路。但还缺少一些信息，比如AES采用哪种模式，key是什么，如果有IV，又会是什么。</li><li>对着三次关于<code>哈希</code> 的提示，猜想做出来的哈希就是key，那么就不需要IV，那么就可能是ECB或CTR模式。但哈希是对谁做的呢，产生了很多联想，做了一些尝试无果。后来猛然发现，基本上能用来产生哈希用于AES加密并产生BASE64串的东西一定是在图片生成之前就存在。那么可能性就不多了，甚至没有了。比赛快结束前注意到<code>试试QR的哈希</code> 这一提示，不报什么希望地试了下字符串"QR"的哈希，没想到成了。解密后得到压缩包密码<code>1Znmpr4jzChwxXqB</code> 。</li><li>打开压缩包后迎面而来又一张QR，解出<code>bqIGBfOGuOsxLYV16OI7xRNAZrcFdYLJtHaDym2O7so=</code> 。很容易想到这是要故技重施，又要找一串key。因为key可能是16、24或32字节，很自然想到上一次解密就试过的16个字节的文件名<code>s776051080zum92N</code> ，一试便成，得到<code>XCTF{W0W_U_G0T_TH3_FL4G}</code> 。</li><li>勉强拿到门票，即将和大佬们一起学习，有点兴奋：）</li></ul><p>附上解题脚本：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-1> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-2> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-3> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-4> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-5> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-6> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-7> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-8> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-9> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-10>10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-11>11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-12>12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-13>13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-14>14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-15>15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-16>16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-17>17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-18>18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-19>19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-20>20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-21>21</a>
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#coding:utf-8</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> base64<span style=color:#f92672>,</span>hashlib
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> Crypto.Cipher <span style=color:#f92672>import</span> AES
</span></span><span style=display:flex><span>key <span style=color:#f92672>=</span> hashlib<span style=color:#f92672>.</span>md5(<span style=color:#e6db74>&#39;QR&#39;</span>)<span style=color:#f92672>.</span>hexdigest()
</span></span><span style=display:flex><span>secret<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;3ukka4wZf2Q9H8PEI5YKFA==&#34;</span> <span style=color:#75715e># 图片扫码结果</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>decrypt</span>(enc):
</span></span><span style=display:flex><span>  aes <span style=color:#f92672>=</span> AES<span style=color:#f92672>.</span>new(key, AES<span style=color:#f92672>.</span>MODE_ECB)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> aes<span style=color:#f92672>.</span>decrypt(enc)
</span></span><span style=display:flex><span>res<span style=color:#f92672>=</span>decrypt(base64<span style=color:#f92672>.</span>b64decode(secret))
</span></span><span style=display:flex><span>print len(res),res
</span></span><span style=display:flex><span><span style=color:#75715e>#-------------------------------------------</span>
</span></span><span style=display:flex><span>key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;s776051080zum92N&#34;</span> <span style=color:#75715e>#压缩包里面图片的文件名</span>
</span></span><span style=display:flex><span>secret<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bqIGBfOGuOsxLYV16OI7xRNAZrcFdYLJtHaDym2O7so=&#34;</span> <span style=color:#75715e>#压缩包里图片是涨二维码，扫出来这个</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>decrypt2</span>(enc):
</span></span><span style=display:flex><span>  aes <span style=color:#f92672>=</span> AES<span style=color:#f92672>.</span>new(key, AES<span style=color:#f92672>.</span>MODE_ECB)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> aes<span style=color:#f92672>.</span>decrypt(enc)
</span></span><span style=display:flex><span>res<span style=color:#f92672>=</span>decrypt2(base64<span style=color:#f92672>.</span>b64decode(secret))
</span></span><span style=display:flex><span>print len(res),res
</span></span><span style=display:flex><span><span style=color:#75715e>#------运行结果--------------</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#16 1Znmpr4jzChwxXqB</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#32 XCTF{W0W_U_G0T_TH3_FL4G}</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://ret2neo.cn/post/180304stealshell/><span class=title>« Prev</span><br><span>一句话快速爆破脚本</span></a>
<a class=next href=https://ret2neo.cn/post/171223meiyactfwp/><span class=title>Next »</span><br><span>第二届美亚柏科邀请赛</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://ret2neo.cn/>闲言语</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2303473689051162" crossorigin=anonymous></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>